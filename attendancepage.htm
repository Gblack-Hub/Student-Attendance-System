<main ng-controller="attControl" style="height: 100vh;">
	<div class="bg-secondary py-3 pl-3 mb-3">
		<div class="text-white font-weight-bold ml-4">Attendance</div>
		<div class="small text-white ml-4">{{ myDate | date : "EEEE, MMM d, y" }}</div>
	</div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-12 col-md-2 col-lg-2 col-xl-2"></div>
			<div class="col-sm-12 col-md-8 col-lg-8 col-xl-8 bg-light py-3">
				<div class="row">
					<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
						<form class="form">
							<div class="form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text"><i class="fa fa-search"></i></span>
									</div>
									<input type="" ng-model="searchName" class="form-control" name="" placeholder="search name here">
								</div>
							</div>
						</form>
					</div>
					<div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
						<button id="getCourse" ng-click="getCourse()" hidden></button>
						<select ng-model="course" class="form-control">
							<option ng-repeat="c in courseList" value="{{c.id}}">{{ c.course_title }}</option>
						</select>
					</div>
				</div>
				<button id="retrieveListBtn" ng-click="getStudents()" hidden></button>
				<center>
					<table class="table table-striped table-bordered bg-light p-4">
						<thead>
							<tr class="text-center">
								<th>SN</th>
								<th>FULL NAME</th>
								<th>MATRIC NO</th>
								<th colspan="2">STATUS</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="x in studentList | filter:searchName | orderBy:'firstname'">
								<td>{{$index+1}}</td>
								<td>{{x.firstname}} {{x.lastname}}</td>
								<td>{{x.matricno}}</td>
								<td>
									<button class="btn btn-sm btn-primary" ng-click="markAttendance(x.id,course)">+</button>
									<button class="btn btn-sm btn-danger" ng-click="unmarkAttendance(x.id,course)">-</button>
								</td>
								<td>
									<span ng-show="x.feedback === 'MARKED'"><i class="fa fa-check text-success"></i></span>
									<span ng-show="x.feedback === 'UNMARKED'"><i class="fa fa-times text-danger"></i></span>
								</td>
							</tr>
						</tbody>
					</table>
				</center>
			</div>
			<div class="col-sm-12 col-md-2 col-lg-2 col-xl-2"></div>
		</div>
	</div>
</main>
